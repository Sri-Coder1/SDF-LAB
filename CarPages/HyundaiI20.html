<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rentora - Hyundai i20</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(to right, #c0e0ff, #a18cd1);
    }
  </style>
</head>
<body class="min-h-screen p-6 font-sans text-white">

  <!-- Navbar -->
  <div class="flex justify-between items-center bg-gradient-to-r from-indigo-800 to-purple-700 p-4 rounded-xl shadow-lg mb-6">
    <div class="flex items-center space-x-3">
      <!-- Navbar logo -->
      <img src="../assets/Rentora logo.png" alt="Rentora Logo" class="h-10 w-10 rounded-full shadow" />
      <span class="text-2xl font-bold">Rentora</span>
    </div>
    <div class="space-x-6">
      <a href="../about.html" class="hover:underline">About Us</a>
      <a href="../contact.html" class="hover:underline">Contact Us</a>
      <a href="../loginpage.html" class="bg-white text-gray-800 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition">Login</a>
      <a href="../Signup.html" class="bg-white text-gray-800 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition">Sign up</a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Left Section -->
    <div class="lg:col-span-2 bg-gradient-to-b from-indigo-700 to-purple-800 p-6 rounded-xl shadow-xl space-y-6">
      
      <!-- Car Header -->
      <div class="flex justify-between items-center text-white">
        <h2 id="car-name" class="text-3xl font-bold">Hyundai i20</h2>
        <span id="car-segment" class="bg-white text-indigo-800 px-3 py-1 rounded-full font-semibold">HATCHBACK</span>
      </div>

      <!-- Car Info -->
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Car Image -->
        <div class="flex items-center justify-center bg-white rounded-xl h-64">
          <img id="car-image" src="../assets/Car7.jpg" alt="Hyundai i20 Side" class="object-contain h-full w-full" />
        </div>

        <!-- Booking Info -->
        <div class="space-y-4 text-sm">
          <div class="bg-white text-gray-800 p-4 rounded-xl">
            <p class="font-semibold">üìç Location: <span id="location-text">0.8 km away</span></p>
            <div class="mt-4 space-y-2">
              <p id="pickup-text" class="font-semibold">üìÖ Pickup: Loading...</p>
              <p id="return-text" class="font-semibold">üìÖ Return: Loading...</p>
              <p id="duration-text" class="font-semibold">‚è≥ Duration: Loading...</p>
            </div>
          </div>

          <div class="bg-white text-gray-800 p-4 rounded-xl">
            <h3 class="font-bold mb-2">Package Info</h3>
            <p>Free kms/day: <strong id="free-kms">120 kms</strong></p>
            <p>Total kms: <strong id="total-kms">360 kms</strong></p>
            <p>Extra km charges: <strong id="extra-km-charge">‚Çπ10/km</strong></p>
          </div>
        </div>
      </div>

      <!-- Car Specs -->
      <div class="bg-white text-gray-800 p-4 rounded-xl space-y-4">
        <h3 class="text-xl font-bold">Car Details</h3>
        <div id="car-specs" class="grid grid-cols-2 md:grid-cols-4 gap-2 text-center text-sm font-semibold">
          <!-- Will be filled by JavaScript -->
        </div>
        <div class="grid md:grid-cols-3 gap-4 mt-4 text-sm">
          <div><span class="font-semibold">Insurance:</span> Included</div>
          <div><span class="font-semibold">Roadside Assistance:</span> Included</div>
          <div><span class="font-semibold">Fuel:</span> Not Included</div>
        </div>
      </div>

      <!-- Important Info -->
      <div class="bg-gradient-to-b from-indigo-600 to-purple-700 text-white p-4 rounded-xl text-sm">
        <h3 class="text-lg font-bold mb-2">Important</h3>
        <ul class="list-disc list-inside space-y-1">
          <li>Valid driving license required</li>
          <li>Security deposit applicable</li>
          <li>Minimum permissible age for renting is 21 and max 30 years.</li>
          <li><a href="#" class="underline text-blue-200">KNOW MORE...</a></li>
        </ul>
      </div>
    </div>

    <!-- Right Section -->
    <div class="bg-gradient-to-b from-blue-100 to-indigo-200 text-gray-800 p-6 rounded-xl shadow-xl space-y-4">
      <h3 class="text-2xl font-bold text-indigo-900">Booking Summary</h3>

      <div class="space-y-2 text-sm">
        <div class="flex justify-between"><span>Rental Charges</span><span id="rental-charges">‚Çπ0</span></div>
        <div class="flex justify-between"><span>GST (15%)</span><span id="gst-charges">‚Çπ0</span></div>
        <div class="flex justify-between"><span>Refundable Deposit</span><span id="deposit">‚Çπ3,000</span></div>
      </div>

      <div class="mt-4 text-sm">
        <label class="block"><input type="checkbox" class="mr-2"> Luggage carrier (Subject to availability)</label>
        <label class="block mt-2"><input type="checkbox" class="mr-2"> Trip Protection Plan <a href="#" class="underline text-indigo-600">View Details</a></label>
      </div>

      <div class="mt-4 text-sm space-y-2">
        <label for="promo" class="font-semibold">Promo Code</label>
        <div class="flex gap-2">
          <input id="promo" type="text" placeholder="Enter promo code" class="flex-1 px-3 py-2 rounded border border-purple-300 focus:outline-none focus:ring-2 focus:ring-indigo-400">
          <button class="bg-indigo-600 text-white px-4 rounded hover:bg-indigo-700">Apply</button>
        </div>
      </div>

      <div class="flex justify-between font-bold text-lg mt-4 border-t pt-2">
        <span>Total Amount</span>
        <span id="total-amount">‚Çπ0</span>
      </div>

      <button id="proceed-btn" class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:opacity-90 transition">
        Proceed to Payment
      </button>
    </div>
  </div>

  <!-- Terms Modal -->
<div id="terms-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden">
  <div class="bg-gradient-to-b from-indigo-800 to-purple-700 text-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 relative">
    <button id="close-terms" class="absolute top-2 right-4 text-2xl font-bold text-white hover:text-indigo-200">&times;</button>
    <h2 class="text-2xl font-bold mb-4 text-white">Terms &amp; Conditions</h2>
    <div class="space-y-4 text-sm">
      <ol class="list-decimal list-inside space-y-2">
        <li>
          <strong>Eligibility</strong><br>
          The renter must be at least 21 years old and not older than 30 years.<br>
          A valid driving license (original and photocopy) must be presented at the time of vehicle pickup.<br>
          The driving license must be valid throughout the rental period.
        </li>
        <li>
          <strong>Booking & Payment</strong><br>
          A security deposit of ‚Çπ3,000 is mandatory and will be refunded after vehicle return (subject to inspection).<br>
          Full payment (including rental charges and applicable taxes) must be made before vehicle pickup.<br>
          Cancellations made 24 hours before pickup are eligible for a full refund, after which no refund is provided.
        </li>
        <li>
          <strong>Usage Policy</strong><br>
          Vehicles must be used only within permitted regions (usually within the country unless otherwise allowed).<br>
          The renter is not allowed to sub-rent, race, or use the vehicle for commercial purposes without prior permission.<br>
          Usage beyond free kilometers incurs ‚Çπ10/km extra.
        </li>
        <li>
          <strong>Damage, Theft, or Accident</strong><br>
          In case of any accident, theft, or damage, the renter must inform Rentora immediately.<br>
          If damage is caused by the renter‚Äôs negligence, repair charges will be deducted from the deposit.<br>
          Insurance covers only basic damages; renters are liable for excess charges.
        </li>
        <li>
          <strong>Fuel & Maintenance</strong><br>
          Fuel is not included in the rental price. The vehicle must be returned with the same fuel level as at the time of pickup.<br>
          Regular maintenance is handled by Rentora; renters must not tamper with the engine or components.
        </li>
        <li>
          <strong>Late Return</strong><br>
          A grace period of 30 minutes is allowed beyond the scheduled return time.<br>
          After that, late returns are charged per hour or per day, depending on the delay.<br>
          Repeated late returns may lead to suspension of rental privileges.
        </li>
        <li>
          <strong>Documents Required</strong><br>
          Government-issued ID proof (e.g., Aadhaar, Passport)<br>
          Valid driving license (original and copy)<br>
          Any additional documents if requested for verification
        </li>
        <li>
          <strong>Prohibited Activities</strong><br>
          Smoking, drinking alcohol, or carrying illegal substances in the vehicle.<br>
          Overloading passengers or luggage beyond the vehicle's capacity.<br>
          Driving under the influence of alcohol or drugs.
        </li>
        <li>
          <strong>Company Rights</strong><br>
          Rentora reserves the right to decline rentals without providing reasons.<br>
          The company can terminate the rental agreement if the vehicle is misused or policies are violated.
        </li>
        <li>
          <strong>Jurisdiction</strong><br>
          Any legal disputes will be subject to the jurisdiction of courts located in [Your City, e.g., Bangalore], India.
        </li>
      </ol>
    </div>
  </div>
</div>

  <!-- Trip Protection Plan Modal -->
<div id="trip-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 hidden">
  <div class="bg-gradient-to-b from-indigo-800 to-purple-700 text-white rounded-xl shadow-2xl max-w-xl w-full max-h-[90vh] overflow-y-auto p-6 relative">
    <button id="close-trip" class="absolute top-2 right-4 text-2xl font-bold text-white hover:text-indigo-200">&times;</button>
    <h2 class="text-2xl font-bold mb-4 text-white">Trip Protection Plan for Vehicle Rental</h2>
    <div class="space-y-4 text-sm">
      <ol class="list-decimal list-inside space-y-2">
        <li>
          <strong>Rental Car Insurance</strong><br>
          Ensure you‚Äôre covered in case of damage, theft, or liability.<br>
          <u>Coverage Options:</u>
          <ul class="list-disc ml-6">
            <li><strong>Collision Damage Waiver (CDW) / Loss Damage Waiver (LDW):</strong> Covers damage to the rental vehicle in case of accident or theft.</li>
            <li><strong>Supplemental Liability Insurance (SLI):</strong> Protects against third-party injury and property damage claims.</li>
            <li><strong>Personal Accident Insurance (PAI):</strong> Covers medical expenses for you and passengers.</li>
            <li><strong>Personal Effects Coverage (PEC):</strong> Covers theft of personal belongings from the rental vehicle.</li>
          </ul>
          <span class="block mt-2">‚úÖ <em>Tip: Check your credit card benefits or personal auto insurance to avoid double coverage.</em></span>
        </li>
        <li>
          <strong>Trip Interruption/Cancellation Protection</strong><br>
          Covers you in case your trip is canceled or interrupted due to:<br>
          <ul class="list-disc ml-6">
            <li>Illness or injury</li>
            <li>Flight cancellations</li>
            <li>Natural disasters</li>
            <li>Family emergencies</li>
          </ul>
          <span class="block mt-2">Reimburses for:</span>
          <ul class="list-disc ml-6">
            <li>Non-refundable rental charges</li>
            <li>Unused rental days</li>
            <li>Change fees</li>
          </ul>
        </li>
        <li>
          <strong>24/7 Roadside Assistance</strong><br>
          Ensure you‚Äôre not stranded due to unexpected issues:<br>
          <ul class="list-disc ml-6">
            <li>Flat tires</li>
            <li>Dead battery</li>
            <li>Lockout service</li>
            <li>Towing</li>
            <li>Fuel delivery</li>
          </ul>
          <span class="block mt-2">‚úÖ <em>Often available as an add-on from rental agencies or third-party insurers.</em></span>
        </li>
        <li>
          <strong>Travel Delay / Missed Connection Coverage</strong><br>
          If travel disruptions affect your rental period:<br>
          <ul class="list-disc ml-6">
            <li>Covers hotel, meals, and transportation during delays</li>
            <li>Reimbursement for missed rental time</li>
          </ul>
        </li>
        <li>
          <strong>International Travel Considerations (if applicable)</strong><br>
          <ul class="list-disc ml-6">
            <li>Check if your plan covers rentals outside your home country</li>
            <li>Ensure compliance with local driving laws</li>
            <li>Consider international insurance add-ons if traveling abroad</li>
          </ul>
        </li>
      </ol>
    </div>
  </div>
</div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      
      // Extract all parameters with defaults
      const location = urlParams.get('location') || 'Bangalore';
      const pickup = urlParams.get('pickup') || new Date().toISOString().slice(0, 16);
      const returnDate = urlParams.get('return') || new Date(Date.now() + 86400000).toISOString().slice(0, 16);
      
      // Car details
      const carName = urlParams.get('name') || 'Hyundai i20';
      const carImage = urlParams.get('image') || '../assets/Car7.jpg';
      const segment = urlParams.get('segment') || 'HATCHBACK';
      const transmission = urlParams.get('transmission') || 'Automatic';
      const fuel = urlParams.get('fuel') || 'Petrol';
      const baggage = urlParams.get('baggage') || '2';
      const seater = urlParams.get('seater') || '5';
      const priceStr = urlParams.get('price') || '2000,1899,2499';
      const prices = priceStr.split(',').map(Number);

      // Calculate rental period
      const pickupDate = new Date(pickup);
      const returnDateObj = new Date(returnDate);
      const timeDiff = returnDateObj - pickupDate;
      const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));
      const rentalDays = daysDiff > 0 ? daysDiff : 1;

      // Calculate pricing (base rental charge per day * number of days)
      const selectedPackage = 0;
      const dailyPrice = prices[selectedPackage] || 2000;
      const rentalCharges = rentalDays * dailyPrice;
      const gst = Math.round(rentalCharges * 0.15);
      const deposit = 3000;
      const total = rentalCharges + gst + deposit;

      // Calculate kms
      const freeKmsPerDay = 120;
      const totalFreeKms = freeKmsPerDay * rentalDays;

      // Format dates for display
      const formatDate = (date) => {
        return date.toLocaleString('en-IN', {
          weekday: 'short',
          day: 'numeric',
          month: 'short',
          year: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });
      };

      // Update booking info
      document.getElementById('location-text').textContent = location;
      document.getElementById('pickup-text').textContent = `üìÖ Pickup: ${formatDate(pickupDate)}`;
      document.getElementById('return-text').textContent = `üìÖ Return: ${formatDate(returnDateObj)}`;
      document.getElementById('duration-text').textContent = `‚è≥ Duration: ${rentalDays} day(s)`;

      // Update car details
      document.getElementById('car-name').textContent = carName;
      document.getElementById('car-segment').textContent = segment;
      document.getElementById('car-image').src = '../assets/Car7.jpg';
      
      // Update car specs
      document.getElementById('car-specs').innerHTML = `
        <div class="bg-indigo-100 text-indigo-800 rounded p-2">${transmission}</div>
        <div class="bg-indigo-100 text-indigo-800 rounded p-2">${fuel}</div>
        <div class="bg-indigo-100 text-indigo-800 rounded p-2">${baggage} Baggage</div>
        <div class="bg-indigo-100 text-indigo-800 rounded p-2">${seater} Seater</div>
      `;

      // Update package info
      document.getElementById('free-kms').textContent = `${freeKmsPerDay} kms`;
      document.getElementById('total-kms').textContent = `${totalFreeKms} kms`;
      document.getElementById('extra-km-charge').textContent = '‚Çπ10/km';

      // Update pricing
      document.getElementById('rental-charges').textContent = `‚Çπ${rentalCharges.toLocaleString('en-IN')}`;
      document.getElementById('gst-charges').textContent = `‚Çπ${gst.toLocaleString('en-IN')}`;
      document.getElementById('deposit').textContent = `‚Çπ${deposit.toLocaleString('en-IN')}`;
      document.getElementById('total-amount').textContent = `‚Çπ${total.toLocaleString('en-IN')}`;
      
      // Add click event to proceed button
      document.getElementById('proceed-btn').addEventListener('click', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const paymentUrl = '../payment.html?' + urlParams.toString();
        window.location.href = paymentUrl;
      });
    });
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('terms-modal');
    const closeBtn = document.getElementById('close-terms');
    // Attach to all "KNOW MORE..." links
    document.querySelectorAll('a').forEach(link => {
      if (link.textContent.trim().toUpperCase().includes('KNOW MORE')) {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          modal.classList.remove('hidden');
        });
      }
    });
    closeBtn.addEventListener('click', function() {
      modal.classList.add('hidden');
    });
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.classList.add('hidden');
      }
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Trip Protection Plan modal logic
    const tripModal = document.getElementById('trip-modal');
    const closeTrip = document.getElementById('close-trip');
    // Find the "View Details" link in the Booking Summary
    const viewTrip = Array.from(document.querySelectorAll('a')).find(link =>
      link.textContent.trim().toUpperCase() === 'VIEW DETAILS'
    );
    if (viewTrip && tripModal && closeTrip) {
      viewTrip.addEventListener('click', function(e) {
        e.preventDefault();
        tripModal.classList.remove('hidden');
      });
      closeTrip.addEventListener('click', function() {
        tripModal.classList.add('hidden');
      });
      tripModal.addEventListener('click', function(e) {
        if (e.target === tripModal) {
          tripModal.classList.add('hidden');
        }
      });
    }
  });
</script>
</body>
</html>